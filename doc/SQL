 Mysql 修改decision_slot表，decision_node_slot表，decision_user_slot表，追加required字段，类型为varchar，默认值为YES
ALTER TABLE `decision_slot` ADD COLUMN `required` VARCHAR(45) DEFAULT 'YES' AFTER `name`;
ALTER TABLE `decision_node_slot` ADD COLUMN `required` VARCHAR(45) DEFAULT 'YES' AFTER `name`;
ALTER TABLE `decision_user_slot` ADD COLUMN `required` VARCHAR(45) DEFAULT 'YES' AFTER `name`;

 Mysql 修改decision_slot表，decision_node_slot表，decision_user_slot表，追加elsesay字段，类型为varchar，默认值为NULL,注释是如果不符合条件的时候的回答
ALTER TABLE `decision_slot` ADD COLUMN `elsesay` VARCHAR(500) DEFAULT NULL COMMENT '如果不符合条件的时候的回答' AFTER `required`;
ALTER TABLE `decision_node_slot` ADD COLUMN `elsesay` VARCHAR(500) DEFAULT NULL COMMENT '如果不符合条件的时候的回答' AFTER `required`;
ALTER TABLE `decision_user_slot` ADD COLUMN `elsesay` VARCHAR(500) DEFAULT NULL COMMENT '如果不符合条件的时候的回答' AFTER `required`;


 
 CREATE TABLE `t_dialogue` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `last_id` bigint(20) DEFAULT NULL,
  `uuid` varchar(500) DEFAULT NULL,
  `window_id` bigint(20) DEFAULT NULL,
  `sub_window_id` bigint(20) DEFAULT NULL,
  `need_sub_window` varchar(50) DEFAULT NULL,
  `sub_window_status` varchar(50) DEFAULT NULL,
  `session_id` bigint(20) DEFAULT NULL COMMENT '会话ID，挂号ID',
  `user_id` bigint(20) DEFAULT NULL,
  `user_uuid` varchar(450) DEFAULT NULL,
  `user_name` varchar(200) DEFAULT NULL,
  `user_avatar` varchar(500) DEFAULT NULL,
  `speaker` varchar(45) DEFAULT NULL COMMENT '谁在说话，user,bot',
  `category` varchar(100) DEFAULT NULL COMMENT '分类，USER_QUESTION,USER_ANSWER,CHAT_QUESTION,CHAT_ANSWER',
  `number` int(11) DEFAULT NULL COMMENT '会话数量',
  `type` varchar(45) DEFAULT NULL COMMENT '类型,text,form,image',
  `reference` varchar(500) DEFAULT NULL COMMENT '引用对话内容',
  `content` varchar(500) DEFAULT NULL COMMENT '对话内容',
  `url` varchar(500) DEFAULT NULL COMMENT 'URL地址',
  `modal` varchar(45) DEFAULT NULL COMMENT '模态',
  `json_body` longtext,
  `status` varchar(45) DEFAULT 'NO',
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(45) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `channel_id` bigint(20) DEFAULT NULL,
  `channel_name` varchar(45) DEFAULT 'tcmbot',
  `round` varchar(45) DEFAULT 'single',
  `trace_id` varchar(200) DEFAULT NULL COMMENT '幂等id',
  `downstream_id` bigint(20) DEFAULT NULL COMMENT '下游id',
  `token` int(11) DEFAULT NULL COMMENT 'token数量',
  `user_intent` varchar(200) DEFAULT NULL COMMENT '用户意图',
  `bot_intent` varchar(200) DEFAULT NULL COMMENT '机器人意图',
  `source` varchar(45) DEFAULT NULL COMMENT '来源',
  `platform` varchar(45) DEFAULT NULL COMMENT '平台',
  `creator_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(200) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `updater_name` varchar(200) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='对话表';

CREATE TABLE `decision_dialogue` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `last_id` bigint(20) DEFAULT NULL,
  `uuid` varchar(500) DEFAULT NULL,
  `window_id` bigint(20) DEFAULT NULL,
  `sub_window_id` bigint(20) DEFAULT NULL,
  `need_sub_window` varchar(50) DEFAULT NULL,
  `sub_window_status` varchar(50) DEFAULT NULL,
  `session_id` bigint(20) DEFAULT NULL COMMENT '会话ID，挂号ID',
  `user_id` bigint(20) DEFAULT NULL,
  `user_uuid` varchar(450) DEFAULT NULL,
  `user_name` varchar(200) DEFAULT NULL,
  `user_avatar` varchar(500) DEFAULT NULL,
  `speaker` varchar(45) DEFAULT NULL COMMENT '谁在说话，user,bot',
  `category` varchar(100) DEFAULT NULL COMMENT '分类，USER_QUESTION,USER_ANSWER,CHAT_QUESTION,CHAT_ANSWER',
  `number` int(11) DEFAULT NULL COMMENT '会话数量',
  `type` varchar(45) DEFAULT NULL COMMENT '类型,text,form,image',
  `content` varchar(500) DEFAULT NULL COMMENT '对话内容',
  `url` varchar(500) DEFAULT NULL COMMENT 'URL地址',
  `modal` varchar(45) DEFAULT NULL COMMENT '模态',
  `json_body` longtext,
  `status` varchar(45) DEFAULT 'ON',
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(45) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `tree_id` bigint(20) DEFAULT NULL,
  `node_id` bigint(20) DEFAULT NULL,
  `token` int(11) DEFAULT NULL COMMENT 'token数量',
  `user_intent` varchar(200) DEFAULT NULL COMMENT '用户意图',
  `bot_intent` varchar(200) DEFAULT NULL COMMENT '机器人意图',
  `source` varchar(45) DEFAULT NULL COMMENT '来源',
  `platform` varchar(45) DEFAULT NULL COMMENT '平台',
  `creator_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(200) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `updater_name` varchar(200) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='DSS对话表';



CREATE TABLE `decision_slot` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `owner` varchar(50) DEFAULT 'node' COMMENT '槽位的拥有者，tree node edge',
  `owner_table` varchar(50) DEFAULT 'decision_node' COMMENT '槽位的拥有者对应的表',
  `owner_id` bigint(20) DEFAULT NULL,
  `relation` varchar(50) DEFAULT 'have' COMMENT '(must have conflict)实体和槽位的关系',
  `relation_value` varchar(50) DEFAULT '有' COMMENT '(must have conflict)实体和槽位的关系',
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `value` varchar(500) DEFAULT NULL COMMENT '值',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `name_embedding` longtext,
  `value_embedding` longtext,
  `embedding` longtext,
  `description` varchar(100) DEFAULT NULL COMMENT '槽位的解释',
  `required` VARCHAR(45) DEFAULT 'YES',
  `need_fill` varchar(50) DEFAULT 'YES' COMMENT '是否需要填充',
  `fill_method` varchar(50) DEFAULT 'boolean' COMMENT '填充的方式，boolean',  
  `boolean_label` varchar(200) DEFAULT NULL COMMENT '比如：是否发烧',  
  `boolean_yes_label` varchar(50) DEFAULT NULL COMMENT '比如：是',  
  `boolean_yes_value` varchar(50) DEFAULT NULL COMMENT '比如：发烧',  
  `boolean_no_label` varchar(50) DEFAULT NULL COMMENT '比如：否',  
  `boolean_no_value` varchar(50) DEFAULT NULL COMMENT '比如：不发烧', 
  `score` float DEFAULT '1',
  `do_recommend` varchar(50) DEFAULT 'YES' COMMENT '是否参与推荐',
  `do_extend` varchar(50) DEFAULT 'YES' COMMENT '是否参与继承',
  `do_infer` varchar(50) DEFAULT 'YES' COMMENT '是否参与推理',
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `tree_id` bigint(20) DEFAULT NULL,
  `tree_name` varchar(100) DEFAULT NULL COMMENT '树名称，在这张表中用不到',
  `node_id` bigint(20) DEFAULT NULL,
  `node_name` varchar(100) DEFAULT NULL COMMENT '节点名称',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(500) DEFAULT NULL,
  `status` varchar(45) DEFAULT 'ON',
  `type` varchar(45) DEFAULT 'String',
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `solution` varchar(500) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='树槽位表';



CREATE TABLE `decision_slot_form` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `slot_id` bigint(20) DEFAULT NULL,
  
  `placeholder` varchar(100) DEFAULT NULL COMMENT 'placeholder',
  `label` varchar(100) DEFAULT NULL COMMENT 'label',
  `type` varchar(100) DEFAULT NULL COMMENT 'type',
  `value` varchar(100) DEFAULT NULL COMMENT 'value',
  `disabled` varchar(10) DEFAULT 'NO' COMMENT 'disabled',
  `required` varchar(10) DEFAULT 'NO' COMMENT 'required',

  `status` varchar(45) DEFAULT 'ON',
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='槽位表单';


CREATE TABLE `decision_dialogue_form` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `dialogue_id` bigint(20) DEFAULT NULL,
  `session_id` bigint(20) DEFAULT NULL COMMENT '会话ID，挂号ID',
  `slot_id` bigint(20) DEFAULT NULL,

  `placeholder` varchar(100) DEFAULT NULL COMMENT 'placeholder',
  `label` varchar(100) DEFAULT NULL COMMENT 'label',
  `type` varchar(100) DEFAULT NULL COMMENT 'type',
  `value` varchar(100) DEFAULT NULL COMMENT 'value',
    `values` json DEFAULT NULL,
  `disabled` varchar(10) DEFAULT 'NO' COMMENT 'disabled',
  `required` varchar(10) DEFAULT 'NO' COMMENT 'required',

  `status` varchar(45) DEFAULT 'ON',
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='对话表单';


CREATE TABLE `t_dialogue_form` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `dialogue_id` bigint(20) DEFAULT NULL,
  `session_id` bigint(20) DEFAULT NULL COMMENT '会话ID，挂号ID',
  `slot_id` bigint(20) DEFAULT NULL,
  `placeholder` varchar(100) DEFAULT NULL COMMENT 'placeholder',
  `label` varchar(100) DEFAULT NULL COMMENT 'label',
  `type` varchar(100) DEFAULT NULL COMMENT 'type',
  `value` varchar(100) DEFAULT NULL COMMENT 'value',
  `values` json DEFAULT NULL,
  `disabled` varchar(10) DEFAULT 'NO' COMMENT 'disabled',
  `required` varchar(10) DEFAULT 'NO' COMMENT 'required',
  `status` varchar(45) DEFAULT 'ON',
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='对话表单';

 CREATE TABLE `decision_tree` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `welcome` varchar(450) DEFAULT NULL COMMENT '欢迎词',
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `status` varchar(45) DEFAULT NULL,
  `price` FLOAT DEFAULT '0',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `note` varchar(500) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(45) DEFAULT NULL,
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='决策树';

 CREATE TABLE `decision_node` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `tree_id` bigint(20) DEFAULT NULL,
  `tree_name` varchar(100) DEFAULT NULL COMMENT '名称',
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `is_root` varchar(50) DEFAULT NULL COMMENT '是否根节点',
  `is_leaf` varchar(50) DEFAULT NULL COMMENT '是否叶子节点',
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `status` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `solution` varchar(500) DEFAULT NULL,
  `note` varchar(1000) DEFAULT NULL COMMENT '注意事项',
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(45) DEFAULT NULL,
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='决策节点';

 CREATE TABLE `decision_edge` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `tree_id` bigint(20) DEFAULT NULL,
  `tree_name` varchar(100) DEFAULT NULL COMMENT '名称',
  `start_id` bigint(20) DEFAULT NULL,
  `start_name` varchar(100) DEFAULT NULL COMMENT '起始点名称',
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  `length` float DEFAULT '1',
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `end_id` bigint(20) DEFAULT NULL,
  `end_name` varchar(100) DEFAULT NULL COMMENT '终点名称',
  `slot_name` varchar(100) DEFAULT NULL COMMENT '槽位名称',
  `slot_value` varchar(100) DEFAULT NULL COMMENT '槽位值',
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `status` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `solution` varchar(500) DEFAULT NULL,
  `note` varchar(1000) DEFAULT NULL COMMENT '注意事项',
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(45) DEFAULT NULL,
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='决策边';

CREATE TABLE `decision_node_slot` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `tree_id` bigint(20) DEFAULT NULL,
  `tree_name` varchar(100) DEFAULT NULL COMMENT '树名称',
  `node_id` bigint(20) DEFAULT NULL,
  `node_name` varchar(100) DEFAULT NULL COMMENT '节点名称',
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `value` varchar(500) DEFAULT NULL COMMENT '值',
  `name_embedding` longtext,
  `value_embedding` longtext,
  `embedding` longtext,
  `description` varchar(100) DEFAULT NULL COMMENT '槽位的解释',

  `required` VARCHAR(45) DEFAULT 'YES',
  `need_fill` varchar(50) DEFAULT 'YES' COMMENT '是否需要填充',
  `fill_method` varchar(50) DEFAULT NULL COMMENT '槽位填充方式 boolean/input/radio/check/file',
  `boolean_label` varchar(200) DEFAULT NULL COMMENT '比如：是否发烧',  
  `boolean_yes_label` varchar(50) DEFAULT NULL COMMENT '比如：是',  
  `boolean_yes_value` varchar(50) DEFAULT NULL COMMENT '比如：发烧',  
  `boolean_no_label` varchar(50) DEFAULT NULL COMMENT '比如：否',  
  `boolean_no_value` varchar(50) DEFAULT NULL COMMENT '比如：不发烧', 
  `owner` varchar(50) DEFAULT 'node' COMMENT '槽位的拥有者，tree node edge',
  `owner_table` varchar(50) DEFAULT 'decision_node' COMMENT '槽位的拥有者对应的表',
  `owner_id` bigint(20) DEFAULT NULL,
  `relation` varchar(50) DEFAULT 'have' COMMENT '(must have conflict)实体和槽位的关系',
  `relation_value` varchar(50) DEFAULT '有' COMMENT '(must have conflict)实体和槽位的关系',
  `score` float DEFAULT '1',
  `do_recommend` varchar(50) DEFAULT 'YES' COMMENT '是否参与推荐',
  `do_extend` varchar(50) DEFAULT 'YES' COMMENT '是否参与继承',
  `do_infer` varchar(50) DEFAULT 'YES' COMMENT '是否参与推理',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(500) DEFAULT NULL,
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `status` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `solution` varchar(500) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='节点槽位表';

CREATE TABLE `decision_user_slot` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `user_uuid` varchar(450) DEFAULT NULL,
  `user_name` varchar(200) DEFAULT NULL,
  `session_id` bigint(20) DEFAULT NULL,
  `name` varchar(100) DEFAULT NULL COMMENT '名称',
  `label` varchar(100) DEFAULT NULL COMMENT '名称',
  `value` varchar(500) DEFAULT NULL COMMENT '值',
  `name_embedding` longtext,
  `value_embedding` longtext,
  `embedding` longtext,
  `description` varchar(100) DEFAULT NULL COMMENT '槽位的解释',
  `required` VARCHAR(45) DEFAULT 'YES',
  `need_fill` varchar(50) DEFAULT 'YES' COMMENT '是否需要填充',
  `fill_method` varchar(50) DEFAULT NULL COMMENT '槽位填充方式 boolean/input/radio/check/file',
  `boolean_label` varchar(200) DEFAULT NULL COMMENT '比如：是否发烧',  
  `boolean_yes_label` varchar(50) DEFAULT NULL COMMENT '比如：是',  
  `boolean_yes_value` varchar(50) DEFAULT NULL COMMENT '比如：发烧',  
  `boolean_no_label` varchar(50) DEFAULT NULL COMMENT '比如：否',  
  `boolean_no_value` varchar(50) DEFAULT NULL COMMENT '比如：不发烧', 
  `relation` varchar(50) DEFAULT 'have' COMMENT '(must have conflict)实体和槽位的关系',
  `relation_value` varchar(50) DEFAULT '有' COMMENT '(must have conflict)实体和槽位的关系',
  `score` float DEFAULT '1',
  `do_recommend` varchar(50) DEFAULT 'YES' COMMENT '是否参与推荐',
  `do_extend` varchar(50) DEFAULT 'YES' COMMENT '是否参与继承',
  `do_infer` varchar(50) DEFAULT 'YES' COMMENT '是否参与推理',
  `agent_id` bigint(20) DEFAULT NULL,
  `agent_name` varchar(50) DEFAULT NULL,
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `status` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `solution` varchar(500) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户槽位表';

 CREATE TABLE `decision_intent` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `parent_id` bigint(20) DEFAULT NULL,
  `intent` varchar(100) DEFAULT NULL COMMENT '意图名称',
  `intent_label` varchar(100) DEFAULT NULL COMMENT '意图名称',
  `sub_intent` varchar(100) DEFAULT NULL COMMENT '子意图名称',
  `sub_intent_label` varchar(100) DEFAULT NULL COMMENT '子意图名称',
  `domain_name` varchar(45) DEFAULT NULL,
  `domain_label` varchar(45) DEFAULT NULL,
  `owner` varchar(45) DEFAULT 'tree' COMMENT '来源',
  `owner_id` bigint(20) DEFAULT NULL,
  `corpus` varchar(1000) DEFAULT NULL COMMENT '语料',
  `embedding` longtext,
  `score` float DEFAULT NULL COMMENT '评分',
  `category` varchar(50) DEFAULT NULL COMMENT '分类',
  `prompt` varchar(5000) DEFAULT NULL COMMENT '提示词',
  `status` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `weight` int(11) DEFAULT NULL,
  `version` int(11) DEFAULT NULL,
  `remark` varchar(500) DEFAULT NULL,
  `tenant_id` bigint(20) DEFAULT '0',
  `tenant_name` varchar(100) DEFAULT 'tcmbot',
  `appid` varchar(45) DEFAULT 'tcmbot',
  `creator_id` bigint(20) DEFAULT NULL,
  `updater_id` bigint(20) DEFAULT NULL,
  `creator_name` varchar(100) DEFAULT NULL,
  `updater_name` varchar(100) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='意图数据源表';


